[{"/Users/naveedrana/Desktop/instagram-clone/src/index.js":"1","/Users/naveedrana/Desktop/instagram-clone/src/Post.js":"2","/Users/naveedrana/Desktop/instagram-clone/src/App.js":"3","/Users/naveedrana/Desktop/instagram-clone/src/ImageUpload.js":"4","/Users/naveedrana/Desktop/instagram-clone/src/reportWebVitals.js":"5"},{"size":500,"mtime":1611737642958,"results":"6","hashOfConfig":"7"},{"size":1908,"mtime":1611819695275,"results":"8","hashOfConfig":"7"},{"size":5585,"mtime":1611819768072,"results":"9","hashOfConfig":"7"},{"size":2048,"mtime":1611813021478,"results":"10","hashOfConfig":"7"},{"size":362,"mtime":1611737642959,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1kgtex6",{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20","usedDeprecatedRules":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/naveedrana/Desktop/instagram-clone/src/index.js",[],"/Users/naveedrana/Desktop/instagram-clone/src/Post.js",[],"/Users/naveedrana/Desktop/instagram-clone/src/App.js",["24"],"/Users/naveedrana/Desktop/instagram-clone/src/ImageUpload.js",["25"],"import React, { useState } from \"react\";\nimport { Input, Button } from \"@material-ui/core\";\nimport \"./ImageUpload.css\";\nimport firebase from \"firebase\";\nimport { storage, db } from \"./firebase\";\n\nconst ImageUpload = ({ username }) => {\n  const [image, setImage] = useState(null);\n  const [url, setUrl] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n  const [caption, setCaption] = useState(\"\");\n\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n\n  const handleUpload = () => {\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        // progress function ...\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(progress);\n      },\n      (error) => {\n        // Error function ...\n        console.log(error);\n      },\n      () => {\n        // complete function ...\n        storage\n          .ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            setUrl(url);\n\n            // post image inside db\n            db.collection(\"posts\").add({\n              imageUrl: url,\n              caption: caption,\n              username: username,\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n            });\n\n            setProgress(0);\n            setCaption(\"\");\n            setImage(null);\n          });\n      }\n    );\n  };\n  return (\n    <div className=\"imageupload\">\n      <progress className=\"imageupload__progress\" value={progress} max=\"100\" />\n      <Input\n        placeholder=\"Enter a caption\"\n        value={caption}\n        onChange={(e) => setCaption(e.target.value)}\n      />\n      <div>\n        <input type=\"file\" onChange={handleChange} />\n        <Button className=\"imageupload__button\" onClick={handleUpload}>\n          Upload\n        </Button>\n      </div>\n\n      <br />\n    </div>\n  );\n};\n\nexport default ImageUpload;\n",["26","27"],"/Users/naveedrana/Desktop/instagram-clone/src/reportWebVitals.js",[],{"ruleId":"28","severity":1,"message":"29","line":41,"column":9,"nodeType":"30","messageId":"31","endLine":41,"endColumn":21},{"ruleId":"28","severity":1,"message":"32","line":9,"column":10,"nodeType":"30","messageId":"31","endLine":9,"endColumn":13},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},"no-unused-vars","'registerOpen' is assigned a value but never used.","Identifier","unusedVar","'url' is assigned a value but never used.","no-native-reassign",["37"],"no-negated-in-lhs",["38"],"no-global-assign","no-unsafe-negation"]